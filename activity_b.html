<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="utf-8">
    <title>Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø§Ù„ØµÙˆØ±Ø© - Ù…Ø¹ Ø¹Ù…ÙˆØ¯ Ø¬Ø§Ù†Ø¨ÙŠ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        /* ===== Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ®Ø· ===== */
        :root {
            --display-box-width: 220px;
            --display-box-height: 220px;
            --display-bg-size: cover;
            --letter-size: 55px;
            --letter-bg-size: cover;
            --main-font-family: 'NotoSansArabic_Condensed-Bold', Arial, sans-serif;
        }

        @font-face {
            /* ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø®Ø· */
            font-family: 'NotoSansArabic_Condensed-Bold';
            src: url('fonts/NotoSansArabic_Condensed-Bold.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        /* ===== Ø³ØªØ§ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø§Ù… ===== */
        body {
    margin: 0;
    padding: 0;
    background: url('images/back_a_img.png') no-repeat center center;
    background-size: cover;
    font-family: var(--main-font-family);
    direction: rtl;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh; /* âœ… Ù†ÙØ³ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£ÙˆÙ„ */
        }

        /* ===== Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Ø´Ø¨ÙŠÙ‡Ø© Ø¨Ù†Ø´Ø§Ø· 1) ===== */

        .activity-container {
            width: 100%;
            max-width: 1000px;
            height: 80vh;
            max-height: 800px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            /* Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ + Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ø¬Ù†Ø¨ Ø¨Ø¹Ø¶ */
            flex-direction: row;
            /* Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† */
            overflow: visible;
        }




        /* ===== Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (Ù†ÙØ³ Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£ÙˆÙ„) ===== */
        .sidebar {
            width: 16%;
            /* Ù†ÙØ³ Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£ÙˆÙ„ */
            background: #f3e8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            /* ØªÙˆØ²ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ */
            padding: 15px 10px;
            border-top-right-radius: 15px;
            border-bottom-right-radius: 15px;
            box-sizing: border-box;
        }

        .sidebar .row {
            /* ØµÙÙˆÙ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ù…ÙˆØ¯ */
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* ===== Ø§Ù„ØµÙ 1: Ø§Ù„Ù†Ø¬ÙˆÙ… (Ø§Ù„ÙˆØ³Ø·Ù‰ Ø£Ø¹Ù„Ù‰ Ø´ÙˆÙŠØ©) ===== */
        .stars {
            direction: rtl;
            /* ğŸ‘ˆ ÙØ±Ø¶ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† */
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 6px;
        }

        .stars img {
            width: 30px;
            height: 30px;
            transition: transform 0.25s ease, filter 0.25s ease;
        }

        .stars img:nth-child(2) {
            transform: translateY(-6px);
        }

        /* Ø±ÙØ¹ Ø§Ù„Ù†Ø¬Ù…Ø© Ø§Ù„ÙˆØ³Ø·Ù‰ Ø¬Ù…Ø§Ù„ÙŠØ§Ù‹ */

        /* ===== Ø§Ù„ØµÙ 2: ØµÙˆØ±Ø© Ø§Ù„Ø·ÙÙ„ ===== */

        .child-photo img {
            width: 110px;       /* Ù†ÙØ³ Ø§Ù„Ø¹Ø±Ø¶ */
            height: 110px;      /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ù„Ù…Ø±Ø¨Ø¹ */
            display: block;
            margin: 0 auto;
            border-radius: 0;     /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ */
            object-fit: cover;    /* Ù…Ù„Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù‚Øµ Ø§Ù„Ø­ÙˆØ§Ù Ø¥Ø°Ø§ Ù„Ø²Ù… */
        }

        /* ===== Ø§Ù„ØµÙ 3: Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ (Ù…Ø³ØªØ·ÙŠÙ„) ===== */
        .student-name {
            margin: 0;
            padding: 0;
            text-align: center;
        }

        .student-name p {
            margin: 0;
            font-size: 16px;
            font-weight: bold;
            background: #fff1cc;
            border-radius: 12px;
            padding: 6px 12px;
            display: inline-block;

            /* âœ… Ù…Ù†Ø¹ Ø§Ù„Ø§Ù„ØªÙØ§Ù Ø¹Ù„Ù‰ Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            /* ÙŠØ¸Ù‡Ø± ... Ø¥Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ø·ÙˆÙŠÙ„ Ø¬Ø¯Ù‹Ø§ */
        }

        /* ===== Ø§Ù„ØµÙ 4: Ø§Ù„Ù…Ø¤Ù‚Øª ===== */
        .timer img {
            width: 80px;
            height: 100px;
            object-fit: contain;
        }



        
        .timer-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            margin-top: 2px;
        }

        .timer-controls img {
            width: 35px;
            height: 35px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .timer-controls img:hover {
            transform: scale(1.1);
        }

        .timer-display {
            font-size: 20px;
            font-weight: bold;
            background: #f779e2;
            border-radius: 8px;
            padding: 5px 10px;
            min-width: 50px;
            height: 35px;
            text-align: center;
        }



        /* ===== Ø§Ù„ØµÙ 5: Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ù‡ÙˆÙ… ÙŠÙ…ÙŠÙ† - Ø±ÙŠØ³Øª ÙŠØ³Ø§Ø±) ===== */
        .controls {
            display: flex;
            justify-content: center;
            gap: 25px !important;
            width: 100%;
            box-sizing: border-box;
            margin-top: 20px;   /* Ø²ÙˆÙ‘Ø¯ Ø§Ù„Ø±Ù‚Ù… Ø­Ø³Ø¨ Ù…Ø§ ØªØ­Ø¨ */
        }

        .controls .left {
            order: 2;
        }

        /* Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± */
        .controls .right {
            order: 1;
        }

        /* Ø§Ù„Ù‡ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† */
        .controls img {
            width: 55px;
            height: 55px;
            cursor: pointer;
            transition: transform 0.15s ease;
        }

        .controls img:hover {
            transform: scale(1.08);
        }

        /* ===== Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· (ÙŠÙ…ÙŠÙ† Ø§Ù„Ø¹Ù…ÙˆØ¯) ===== */
        .activity-content {
            width: 84%;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            position: relative;
            box-sizing: border-box;
            border-top-left-radius: 15px;
            border-bottom-left-radius: 15px;
        }

        /* Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù†Ø´Ø§Ø· - Ù†ÙØ³ Ù…ÙˆØ¶Ø¹Ù‡ ÙÙŠ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£ØµÙ„ÙŠ */
        .activity-label {
            position: absolute;
            top: -25px;
            left: -25px;
            width: 150px;
        /*    transform: rotate(-40deg);*/
            z-index: 5;
        }

.instructions-icon {
    position: absolute;
    top: 35px;
    left: 25px;
    width: 70px;
    height: 70px;
    cursor: pointer;
    z-index: 15;
    transition: transform 0.2s ease, filter 0.2s ease;
}

/* Ø¹Ù†Ø¯ Ø§Ù„ÙˆÙ‚ÙˆÙ Ø¹Ù„ÙŠÙ‡Ø§ */
.instructions-icon:hover {
    transform: scale(1.1);
    filter: drop-shadow(0 0 5px #f779e2);
}

/* Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· */
.instructions-icon:active {
       transform: translateX(12px);
}



        /* ===== Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© (Ù…Ø³ØªØ¹Ø§Ø±Ø© Ù…Ù† Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø«Ø§Ù†ÙŠ) ===== */
        .match-area {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            width: 90%;
            max-width: 800px;
        }

        .result-icon {
            width: 100px;
            height: 100px;
            display: none;
        }

        .image-box {
            width: var(--display-box-width);
            height: var(--display-box-height);
            background: url('images/back_img.png') no-repeat center center;
            background-size: var(--display-bg-size);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-box img {
            max-width: calc(var(--display-box-width) - 40px);
            max-height: calc(var(--display-box-height) - 40px);
            border-radius: 12px;
        }

        .drop-zone {
            width: 150px;
            height: 150px;
            background: url('images/backaa_img.png') no-repeat center center;
            background-size: contain;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .drop-zone img {
            max-width: 80px;
            max-height: 80px;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ */
        .letters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            max-width: 635px;
            margin-top: 10px;
            direction: rtl;
        }

        .letter {
            width: 50px;
            height: 50px;
            background: url('images/back_letter.png') no-repeat center center;
            background-size: cover;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: transform .15s ease;
            font-family: var(--main-font-family);
        }

        .letter:active {
            transform: scale(1.05);
            cursor: grabbing;
        }

        .dropped-letter {
            width: 90px !important;
            height: 90px !important;
            background: linear-gradient(45deg, #cc66ff, #d88dfd) !important;
            font-size: 36px !important;
            font-weight: bold !important;
            border: 3px solid white !important;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3) !important;
            border-radius: 20px !important;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>

<body>

    <div class="activity-container">
        <!-- ===== Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (ØµÙÙˆÙ 5) ===== -->
        <div class="sidebar">
            <!-- Ø§Ù„ØµÙ 1: 3 Ù†Ø¬ÙˆÙ… (Ø§Ù„ÙˆØ³Ø·Ù‰ Ø£Ø¹Ù„Ù‰ Ù‚Ù„ÙŠÙ„Ø§Ù‹) -->
            <div class="row stars">
                <img id="star1" src="images/star1.png" alt="Ù†Ø¬Ù…Ø© 1"> <!-- Ù†Ø¬Ù…Ø© 1 (Ø£ØµÙØ± Ù…Ø¨Ø¯Ø¦ÙŠØ§Ù‹) -->
                <img id="star2" src="images/star2.png" alt="Ù†Ø¬Ù…Ø© 2"> <!-- Ù†Ø¬Ù…Ø© 2 (Ø£ÙˆØ³Ø· Ù…Ø±ØªÙØ¹) -->
                <img id="star3" src="images/star3.png" alt="Ù†Ø¬Ù…Ø© 3"> <!-- Ù†Ø¬Ù…Ø© 3 -->
            </div>

            <!-- Ø§Ù„ØµÙ 2: ØµÙˆØ±Ø© Ø§Ù„Ø·ÙÙ„ (Ø³ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¥Ù† Ø£Ø±Ø¯Øª) -->
            <div class="row child-photo">
                <img id="childPhoto" src="images/child_photo.png" alt="ØµÙˆØ±Ø© Ø§Ù„Ø·ÙÙ„">
            </div>

            <!-- Ø§Ù„ØµÙ 3: Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ (Ø«Ù†Ø§Ø¦ÙŠ) -->
            <div class="row student-name">
                <p id="studentName">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</p>
            </div>

            <!-- Ø§Ù„ØµÙ 4: Ø§Ù„Ù…Ø¤Ù‚Øª -->
            <div class="row timer">
                <img id="timerImage" src="images/timer.png" alt="Ù…Ø¤Ù‚Øª Ø§Ù„Ù†Ø´Ø§Ø·">
            </div>

                <div class="timer-controls">
                <img src="images/play.png" alt="ØªØ´ØºÙŠÙ„" id="startBtn">
                <div class="timer-display" id="timerDisplay">0</div>
                <img src="images/stop.png" alt="Ø¥ÙŠÙ‚Ø§Ù" id="stopBtn">   
            </div>



            <!-- Ø§Ù„ØµÙ 5: Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„Ù‡ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± -->
            <div class="row controls">
                <img class="right icon-home" src="images/home.png" alt="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"> <!-- Ø§Ù„Ù‡ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† -->
                <img class="left icon-retry" src="images/retry.png" alt="Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„">
                <!-- Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± -->
            </div>
        </div>

        <!-- ===== Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· (Ù…Ø·Ø§Ø¨Ù‚Ø©) ===== -->
        <div class="activity-content">
            <!-- SD-->
             <img src="images/sd_img.png" alt="ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ù†Ø´Ø§Ø·" class="instructions-icon">

            <!-- Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù†Ø´Ø§Ø· -->
            <img class="activity-label" src="images/actv_2.png" alt="Activity Label">

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© -->
            <div class="match-area">
                <img id="resultIcon" class="result-icon" src="" alt="Ù†ØªÙŠØ¬Ø©"> <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© ØµØ­/Ø®Ø·Ø£ -->


                <div class="drop-zone" id="dropZone">
                    <img src="images/question_img.png" alt="?" id="questionMark">
                </div>
                <div class="image-box">
                    <img id="matchImage" src="" alt="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ù…Ø·Ø§Ø¨Ù‚ØªÙ‡Ø§">
                </div>




            </div>

            <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ -->
            <div class="letters" id="lettersGrid"></div>
        </div>
    </div>

    <script>
/* Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
document.addEventListener('DOMContentLoaded', function () {

    /* âœ… Ø¬Ù„Ø¨ Ø§Ø³Ù… ÙˆØµÙˆØ±Ø© Ø§Ù„Ø·ÙÙ„ Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† */
    const storedName = sessionStorage.getItem('userName');
    const storedImage = sessionStorage.getItem('userImage');

    if (storedName) {
        document.getElementById('studentName').textContent = storedName;
    }
    if (storedImage) {
        document.getElementById('childPhoto').src = storedImage;
    }

    /* âœ… Ù…ØµÙÙˆÙØ© Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
    const arabicLetters = [
        'Ø£','Ø¨','Øª','Ø«','Ø¬','Ø­','Ø®','Ø¯','Ø°','Ø±','Ø²','Ø³','Ø´','Øµ',
        'Ø¶','Ø·','Ø¸','Ø¹','Øº','Ù','Ù‚','Ùƒ','Ù„','Ù…','Ù†','Ù‡','Ùˆ','ÙŠ'
    ];

    /* âœ… Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø© Ù„Ù„Ù†Ø´Ø§Ø· */
    let currentLetter = 0;
    let isAnswered = false;
    let correctAnswers = 0;
    const initialStarSrc = [
        'images/star1.png',
        'images/star2.png',
        'images/star3.png'
    ];

    /* âœ… Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù…Ù† Ø§Ù„ØµÙØ­Ø© */
    const lettersGrid = document.getElementById('lettersGrid');
    const matchImage = document.getElementById('matchImage');
    const resultIcon = document.getElementById('resultIcon');
    const dropZone = document.getElementById('dropZone');
    const starElems = [
        document.getElementById('star1'),
        document.getElementById('star2'),
        document.getElementById('star3')
    ];
    const homeBtn = document.querySelector('.icon-home');
    const retryBtn = document.querySelector('.icon-retry');

    /* âœ… Ø²Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    homeBtn.addEventListener('click', function () {
        window.location.href = 'activities.html';
    });

    /* âœ… Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ */
    retryBtn.addEventListener('click', function () {
    // âœ… 1) ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
    clearInterval(timerInterval);
    timerInterval = null;
    counter = 0;
    timerDisplay.textContent = counter;

    // âœ… 2) Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    resetActivity();
});


    /* âœ… ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„ */
    showNewQuestion();

    /* ===== Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ ===== */
    function showNewQuestion() {
        isAnswered = false;

        dropZone.innerHTML = '<img src="images/question_img.png" alt="?" id="questionMark">';
        resultIcon.style.display = 'none';

        currentLetter = Math.floor(Math.random() * arabicLetters.length) + 1;
        matchImage.src = `images/photo${currentLetter}.png`;

        lettersGrid.innerHTML = '';
        arabicLetters.forEach(letter => {
            const div = document.createElement('div');
            div.className = 'letter';
            div.textContent = letter;
            div.draggable = true;
            div.addEventListener('dragstart', dragStartHandler);
            lettersGrid.appendChild(div);
        });

        setupDropZone();
    }

    /* âœ… Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³Ø­Ø¨ */
    function dragStartHandler(e) {
        e.dataTransfer.setData('text/plain', this.textContent);
    }

    /* âœ… ØªØ¬Ù‡ÙŠØ² Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø³Ù‚Ø§Ø· */
    function setupDropZone() {
        dropZone.ondragover = function (e) { e.preventDefault(); };
        dropZone.ondrop = function (e) {
            if (isAnswered) return;
            e.preventDefault();

            const droppedLetter = e.dataTransfer.getData('text/plain');
            const correctLetter = arabicLetters[currentLetter - 1];

            if (droppedLetter === correctLetter) {
                isAnswered = true;

                const droppedElement = document.createElement('div');
                droppedElement.className = 'dropped-letter';
                droppedElement.textContent = droppedLetter;

                dropZone.innerHTML = '';
                dropZone.appendChild(droppedElement);

                resultIcon.src = 'images/right.png';
                resultIcon.style.display = 'block';
                playSoundSafe(`sounds/ph${currentLetter}.mp3`);

                correctAnswers++;
                updateStarsByProgress();

                setTimeout(showNewQuestion, 1800);

            } else {
                resultIcon.src = 'images/wrong.png';
                resultIcon.style.display = 'block';
                playSoundSafe('sounds/wrong.mp3');

                setTimeout(() => {
                    resultIcon.style.display = 'none';
                }, 1400);
            }
        };
    }

    /* âœ… ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù†Ø¬ÙˆÙ… */
    function animateStar(starEl) {
        starEl.style.transform = 'translateX(15px) scale(1.25)';
        setTimeout(() => {
            starEl.style.transform = '';
        }, 250);
    }

    /* âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ… Ø­Ø³Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© */
    function updateStarsByProgress() {
        if (correctAnswers % 3 === 0) {
            const index = (correctAnswers / 3) - 1;
            if (index >= 0 && index < starElems.length) {
                const starEl = starElems[index];
                if (!starEl.dataset.activated) {
                    starEl.src = 'images/star_red.png';
                    starEl.dataset.activated = '1';
                    animateStar(starEl);
                }
            }
        }
    }

    /* âœ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
    function resetActivity() {
        correctAnswers = 0;
        starElems.forEach((star, i) => {
            star.src = initialStarSrc[i];
            delete star.dataset.activated;
            star.style.transform = '';
        });
        showNewQuestion();
    }

    /* âœ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¨Ø£Ù…Ø§Ù† */
    function playSoundSafe(src) {
        try {
            const a = new Audio(src);
            a.play().catch(() => {});
        } catch (e) {}
    }
});

/* âœ… Ù…Ù†Ø¹ ÙƒÙ„ÙŠÙƒ ÙŠÙ…ÙŠÙ† */
document.addEventListener('contextmenu', function (e) {
    e.preventDefault();
});

/* âœ… ØµÙˆØª Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
const instructionsIcon = document.querySelector('.instructions-icon');
instructionsIcon.addEventListener('click', () => {
    const audio = new Audio('sounds/sd2_sound.mp3');
    audio.play().catch(e => {});
});


// âœ… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©
const matchImageElem = document.getElementById('matchImage');
matchImageElem.addEventListener('click', function () {
    const src = matchImageElem.getAttribute('src'); 
    if (!src) return;

    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø§Ø³Ù… Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯
    const fileName = src.split('/').pop().split('.')[0]; 
    const audio = new Audio(`sounds/${fileName}.mp3`);

    audio.play().catch(() => {});
});




        // Ø§Ù„ØªØ§ÙŠÙ…Ø±
        let timerInterval;
        let counter = 0;
        const timerDisplay = document.getElementById('timerDisplay');
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');

        startBtn.addEventListener('click', () => {
            if (!timerInterval) {
                timerInterval = setInterval(() => {
                    counter++;
                    timerDisplay.textContent = counter;
                }, 1000);
            }
        });

        stopBtn.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerInterval = null;
        });


</script>


</body>

</html>