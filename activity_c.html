<!DOCTYPE html>
<html lang="ar">

<head>
  <meta charset="UTF-8">
  <title>ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª - ÙƒØ§Ù…Ù„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --display-box-width: 460px;
      --display-box-height: 120px;
      --letter-size: 55px;
      --main-font-family: 'NotoSansArabic_Condensed-Bold', Arial, sans-serif;
    }

    @font-face {
      font-family: 'NotoSansArabic_Condensed-Bold';
      src: url('fonts/NotoSansArabic_Condensed-Bold.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    body {
      margin: 0;
      padding: 0;
      background: url('images/back_a_img.png') no-repeat center center;
      background-size: cover;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--main-font-family);
      direction: rtl;
    }

    .activity-container {
      width: 100%;
      max-width: 1000px;
      height: 80vh;
      max-height: 800px;
      background: #ffffff;
      border-radius: 15px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      display: flex;
      overflow: visible;
    }

    .sidebar {
      width: 15%;
      background: #f3e8ff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-around;
      padding: 15px 10px;
      border-top-right-radius: 15px;
      border-bottom-right-radius: 15px;
    }

    .row {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .stars img {
      width: 30px;
      height: 30px;
      transition: transform .25s ease, filter .25s ease;
    }

    .stars img:nth-child(2) {
      transform: translateY(-6px);
    }

    .child-photo img {
      width: 110px;
      /* Ù†ÙØ³ Ø§Ù„Ø¹Ø±Ø¶ */
      height: 110px;
      /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ù„Ù…Ø±Ø¨Ø¹ */
      display: block;
      margin: 0 auto;
      border-radius: 0;
      /* Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ */
      object-fit: cover;
      /* Ù…Ù„Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ù‚Øµ Ø§Ù„Ø­ÙˆØ§Ù Ø¥Ø°Ø§ Ù„Ø²Ù… */
    }

    .student-name {
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .student-name p {
      margin: 0;
      font-size: 16px;
      font-weight: bold;
      background: #fff1cc;
      border-radius: 12px;
      padding: 6px 12px;
      display: inline-block;

      /* âœ… Ù…Ù†Ø¹ Ø§Ù„Ø§Ù„ØªÙØ§Ù Ø¹Ù„Ù‰ Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ */
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      /* ÙŠØ¸Ù‡Ø± ... Ø¥Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ø·ÙˆÙŠÙ„ Ø¬Ø¯Ù‹Ø§ */
    }

    .timer img {
      width: 80px;
      height: 100px;
      object-fit: contain;
    }





    
    /* ğŸ”¹ ØµÙ Ø§Ù„ØªØ§ÙŠÙ…Ø± */


    .timer-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .timer-controls img {
      width: 40px;
      height: 40px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .timer-controls img:hover {
      transform: scale(1.1);
    }

    .timer-display {
  font-size: 20px;
  font-weight: bold;
  background: #f779e2;
  border-radius: 8px;
  padding: 5px 10px;
  min-width: 50px;
  height: 35px;
  text-align: center;
  line-height: 35px;   /* âœ… Ù†ÙØ³ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø¹Ù†ØµØ± */
  display: flex;
  align-items: center;
  justify-content: center;
    }



    .controls {
      display: flex;
      justify-content: center;
      gap: 25px;
      width: 100%;
      margin-top: 20px  !important;   /* Ø²ÙˆÙ‘Ø¯ Ø§Ù„Ø±Ù‚Ù… Ø­Ø³Ø¨ Ù…Ø§ ØªØ­Ø¨ */
    }

    .controls .right {
      order: 1;
    }

    .controls .left {
      order: 2;
    }

    .controls img {
      width: 55px;
      height: 55px;
      cursor: pointer;
      transition: transform .15s ease;
    }

    .controls img:hover {
      transform: scale(1.08);
    }

    .activity-content {
      width: 85%;
      padding: 18px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-around;
      position: relative;
    }

    /* Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù†Ø´Ø§Ø· - Ù†ÙØ³ Ù…ÙˆØ¶Ø¹Ù‡ ÙÙŠ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø£ØµÙ„ÙŠ */
    .activity-label {
      position: absolute;
      top: -25px;
      left: -25px;
      width: 150px;
      /*    transform: rotate(-40deg);*/
      z-index: 5;
    }

    /* Ø£ÙŠÙ‚ÙˆÙ†Ø© SD*/
    .instructions-icon {
      position: absolute;
      top: 35px;
      left: 25px;
      width: 70px;
      height: 70px;
      cursor: pointer;
      z-index: 15;
      transition: transform 0.2s ease, filter 0.2s ease;
    }

    /* Ø¹Ù†Ø¯ Ø§Ù„ÙˆÙ‚ÙˆÙ Ø¹Ù„ÙŠÙ‡Ø§ */
    .instructions-icon:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 5px #f779e2);
    }

    /* Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· */
    .instructions-icon:active {
      transform: translateX(12px);
    }


    .word-display {
      font-size: 48px;
      font-weight: bold;
      color: #333;
      margin-top: 10px;
    }

    .analysis-area {
      width: var(--display-box-width);
      height: var(--display-box-height);
      background: #ffffcc;
      border: 10px solid #ff9966;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      font-weight: bold;
      color: #0015fc;
      flex-wrap: wrap;
      transition: box-shadow 0.3s ease;
      letter-spacing: 5px;
    }

    .analysis-area.correct-letter {
      box-shadow: 0 0 15px 6px yellow;
    }

    .glowing-box {
      animation: correctGlow 0.8s ease-in-out 2;
    }

    @keyframes correctGlow {
      0% {
        box-shadow: 0 0 0 #4CAF50;
      }

      50% {
        box-shadow: 0 0 25px 8px #4CAF50;
      }

      100% {
        box-shadow: 0 0 0 #4CAF50;
      }
    }

    .letters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      max-width: 635px;
      margin-top: 10px;
      direction: rtl;
    }

    .letter {
      width: 50px;
      height: 50px;
      background: url('images/back_letter.png') no-repeat center center;
      background-size: cover;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 26px;
      font-weight: bold;
      color: white;
      cursor: pointer;
      transition: transform .15s ease;
    }

    .letter:active {
      transform: scale(1.05);
      cursor: grabbing;
    }
  </style>
</head>

<body>
  <div class="activity-container">
    <div class="sidebar">
      <div class="row stars">
        <img id="star1" src="images/star1.png" alt="Ù†Ø¬Ù…Ø©1">
        <img id="star2" src="images/star2.png" alt="Ù†Ø¬Ù…Ø©2">
        <img id="star3" src="images/star3.png" alt="Ù†Ø¬Ù…Ø©3">
      </div>

      <div class="row child-photo">
        <img src="images/child_photo.png" alt="ØµÙˆØ±Ø© Ø§Ù„Ø·ÙÙ„" id="userPhoto">
      </div>
      <div class="row student-name">
        <p id="userNameDisplay">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</p>
      </div>



      <div class="row timer"><img id="timerImage" src="images/timer.png" alt="Ù…Ø¤Ù‚Øª"></div>

    <!-- Ø§Ù„ØªØ§ÙŠÙ…Ø± Ø§Ù„ÙØ¹Ù‘Ø§Ù„ -->
    <div class="timer-section">
      <div class="timer-controls">
        <img src="images/play.png" alt="Play" id="playBtn">
        <div class="timer-display" id="timer">0</div>
        <img src="images/stop.png" alt="Stop" id="stopBtn">   
      </div>
    </div>


      <div class="row controls">
       <div class="right"><img id="homeBtn" src="images/home.png" alt="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"></div>
       <div class="left"><img id="retryBtn" src="images/retry.png" alt="Ø¥Ø¹Ø§Ø¯Ø©"></div>
      </div>
    </div>

    <div class="activity-content">
      <!-- SD-->
      <img src="images/sd_img.png" alt="ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ù†Ø´Ø§Ø·" class="instructions-icon">

      <img class="activity-label" src="images/actv_3.png" alt="Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù†Ø´Ø§Ø·">
      <div id="wordDisplay" class="word-display"></div>
      <div id="analysisArea" class="analysis-area"></div>
      <div class="letters" id="lettersGrid"></div>
    </div>
  </div>

  <script>

    const storedName = sessionStorage.getItem('userName');
    const storedPhoto = sessionStorage.getItem('userImage');

    if (storedName) document.getElementById('userNameDisplay').textContent = storedName;
    if (storedPhoto) document.getElementById('userPhoto').src = storedPhoto;



    /* ----- Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª (Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø³Ù‡ÙˆÙ„Ø©) ----- */
    const words = [
      { word: "Ø£Ø³Ø¯", letters: ['Ø£', 'Ø³', 'Ø¯'], shaped: ['Ø£', 'Ø³Ù€', 'Ø¯'] },
      { word: "Ø¬Ø²Ø±", letters: ['Ø¬', 'Ø²', 'Ø±'], shaped: ['Ø¬Ù€', 'Ø²', 'Ø±'] },
      { word: "ÙˆÙ„Ø¯", letters: ['Ùˆ', 'Ù„', 'Ø¯'], shaped: ['Ùˆ', 'Ù„Ù€', 'Ø¯'] },
      { word: "Ø¨Ù†Øª", letters: ['Ø¨', 'Ù†', 'Øª'], shaped: ['Ø¨Ù€', 'Ù†Ù€', 'Øª'] },
      { word: "Ø¹Ù†Ø¨", letters: ['Ø¹', 'Ù†', 'Ø¨'], shaped: ['Ø¹Ù€', 'Ù†Ù€', 'Ø¨'] },
      { word: "Ø¬Ù…Ù„", letters: ['Ø¬', 'Ù…', 'Ù„'], shaped: ['Ø¬Ù€', 'Ù…Ù€', 'Ù„'] },
      { word: "Ø²Ø±Ø¹", letters: ['Ø²', 'Ø±', 'Ø¹'], shaped: ['Ø²', 'Ø±', 'Ø¹'] },
      { word: "Ø³ÙˆÙ‚", letters: ['Ø³', 'Ùˆ', 'Ù‚'], shaped: ['Ø³Ù€', 'Ùˆ', 'Ù‚'] },
      { word: "Ø·ÙÙ„", letters: ['Ø·', 'Ù', 'Ù„'], shaped: ['Ø·Ù€', 'ÙÙ€', 'Ù„'] },
      { word: "ÙÙŠÙ„", letters: ['Ù', 'ÙŠ', 'Ù„'], shaped: ['ÙÙ€', 'ÙŠÙ€', 'Ù„'] },
      { word: "Ù‚Ù„Ù…", letters: ['Ù‚', 'Ù„', 'Ù…'], shaped: ['Ù‚Ù€', 'Ù„Ù€', 'Ù…'] },
      { word: "Ù‚Ù…Ø±", letters: ['Ù‚', 'Ù…', 'Ø±'], shaped: ['Ù‚Ù€', 'Ù…Ù€', 'Ø±'] },
      { word: "ÙˆØ±Ù‚", letters: ['Ùˆ', 'Ø±', 'Ù‚'], shaped: ['Ùˆ', 'Ø±', 'Ù‚'] },
      { word: "Ù…Ø±ÙƒØ¨", letters: ['Ù…', 'Ø±', 'Ùƒ', 'Ø¨'], shaped: ['Ù…Ù€', 'Ø±', 'ÙƒÙ€', 'Ø¨'] },
      { word: "Ù…ØªØ±Ùˆ", letters: ['Ù…', 'Øª', 'Ø±', 'Ùˆ'], shaped: ['Ù…Ù€', 'ØªÙ€', 'Ø±', 'Ùˆ'] },
      { word: "Ø¨Ø·Ø©", letters: ['Ø¨', 'Ø·', 'Ø©'], shaped: ['Ø¨Ù€', 'Ø·Ù€', 'Ù€Ø©'] },
      { word: "Ø¯Ø¨", letters: ['Ø¯', 'Ø¨'], shaped: ['Ø¯', 'Ø¨'] },
      { word: "Ø´Ù…Ø³", letters: ['Ø´', 'Ù…', 'Ø³'], shaped: ['Ø´Ù€', 'Ù…Ù€', 'Ø³'] },
      { word: "Ù‚Ø·Ø©", letters: ['Ù‚', 'Ø·', 'Ø©'], shaped: ['Ù‚Ù€', 'Ø·Ù€', 'Ù€Ø©'] },
      { word: "Ø®Ø³", letters: ['Ø®', 'Ø³'], shaped: ['Ø®Ù€', 'Ø³'] },
      { word: "Ø³Ù…ÙƒØ©", letters: ['Ø³', 'Ù…', 'Ùƒ', 'Ø©'], shaped: ['Ø³Ù€', 'Ù…Ù€', 'ÙƒÙ€', 'Ù€Ø©'] },
      { word: "ÙƒØ±Ø³ÙŠ", letters: ['Ùƒ', 'Ø±', 'Ø³', 'ÙŠ'], shaped: ['ÙƒÙ€', 'Ø±', 'Ø³Ù€', 'ÙŠ'] },
      { word: "Ø´ÙˆØ±Øª", letters: ['Ø´', 'Ùˆ', 'Ø±', 'Øª'], shaped: ['Ø´Ù€', 'Ùˆ', 'Ø±', 'Øª'] }, // Ù…Ø«Ø§Ù„ (ØªØ¹Ø¯ÙŠÙ„ Ø¥Ø°Ø§ Ù„Ø²Ù…)
      { word: "Ø®Ø±ÙˆÙ", letters: ['Ø®', 'Ø±', 'Ùˆ', 'Ù'], shaped: ['Ø®Ù€', 'Ø±', 'Ùˆ', 'Ù'] },
      { word: "Ø£Ø±Ù†Ø¨", letters: ['Ø£', 'Ø±', 'Ù†', 'Ø¨'], shaped: ['Ø£', 'Ø±', 'Ù†Ù€', 'Ø¨'] },
      { word: "Ø¨Ø­Ø±", letters: ['Ø¨', 'Ø­', 'Ø±'], shaped: ['Ø¨Ù€', 'Ø­Ù€', 'Ø±'] },
      { word: "ÙˆØ±Ø¯", letters: ['Ùˆ', 'Ø±', 'Ø¯'], shaped: ['Ùˆ', 'Ø±', 'Ø¯'] },
      { word: "ØªÙˆØª", letters: ['Øª', 'Ùˆ', 'Øª'], shaped: ['ØªÙ€', 'Ùˆ', 'Øª'] },
      { word: "ÙÙ„ÙÙ„", letters: ['Ù', 'Ù„', 'Ù', 'Ù„'], shaped: ['ÙÙ€', 'Ù„Ù€', 'ÙÙ€', 'Ù„'] },
      { word: "Ø¯ÙŠÙƒ", letters: ['Ø¯', 'ÙŠ', 'Ùƒ'], shaped: ['Ø¯', 'ÙŠÙ€', 'Ùƒ'] },
      { word: "Ù‚Ø±Ø¯", letters: ['Ù‚', 'Ø±', 'Ø¯'], shaped: ['Ù‚Ù€', 'Ø±', 'Ø¯'] },
      { word: "ÙƒÙ„Ø¨", letters: ['Ùƒ', 'Ù„', 'Ø¨'], shaped: ['ÙƒÙ€', 'Ù„Ù€', 'Ø¨'] },
      { word: "Ù†Ù…Ø±", letters: ['Ù†', 'Ù…', 'Ø±'], shaped: ['Ù†Ù€', 'Ù…Ù€', 'Ø±'] }
    ];

    /* ----- Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø³Ø­Ø¨ ----- */
    const arabicLetters = ['Ø£', 'Ø¨', 'Øª', 'Ø«', 'Ø¬', 'Ø­', 'Ø®', 'Ø¯', 'Ø°', 'Ø±', 'Ø²', 'Ø³', 'Ø´', 'Øµ', 'Ø¶', 'Ø·', 'Ø¸', 'Ø¹', 'Øº', 'Ù', 'Ù‚', 'Ùƒ', 'Ù„', 'Ù…', 'Ù†', 'Ù‡Ù€', 'Ø©', 'Ùˆ', 'ÙŠ'];

    let currentWord = {}, currentWordIndex = 0, placedLetters = [], correctAnswers = 0;
    const starElems = [], initialStarSrc = ['images/star1.png', 'images/star2.png', 'images/star3.png'], highlightStarSrc = 'images/star_red.png';
    let dropAreaEl = null;

    function playSoundSafe(src) { try { new Audio(src).play().catch(() => { }); } catch (e) { } }

    document.addEventListener('DOMContentLoaded', () => {
      dropAreaEl = document.getElementById('analysisArea');
      const lettersGrid = document.getElementById('lettersGrid');
      const homeBtn = document.getElementById('homeBtn');
      const retryBtn = document.getElementById('retryBtn');

      starElems.push(document.getElementById('star1'));
      starElems.push(document.getElementById('star2'));
      starElems.push(document.getElementById('star3'));

      if (homeBtn) homeBtn.addEventListener('click', () => window.location.href = 'activities.html');

        /* âœ… Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ */
    retryBtn.addEventListener('click', function () {
    // âœ… 1) ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
    clearInterval(timerInterval);
    timerInterval = null;
    counter = 0;
    timerDisplay.textContent = counter;

    // âœ… 2) Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
    resetActivity();
});

      dropAreaEl.addEventListener('dragover', e => e.preventDefault());
      dropAreaEl.addEventListener('drop', handleDrop);

      setupNewWord();
    });

    function setupNewWord() {
      currentWordIndex = Math.floor(Math.random() * words.length);
      currentWord = words[currentWordIndex];
      placedLetters = [];
      document.getElementById('wordDisplay').textContent = currentWord.word;
      dropAreaEl.textContent = '';

      const grid = document.getElementById('lettersGrid');
      grid.innerHTML = '';
      arabicLetters.forEach(letter => {
        const div = document.createElement('div');
        div.className = 'letter';
        div.textContent = letter;
        div.draggable = true;
        div.addEventListener('dragstart', e => e.dataTransfer.setData('text/plain', letter));
        grid.appendChild(div);
      });
    }

    function handleDrop(e) {
      e.preventDefault();
      const droppedLetter = e.dataTransfer.getData('text/plain');
      if (!droppedLetter) return;
      const expectedLetter = currentWord.letters[placedLetters.length];

      if (droppedLetter === expectedLetter) {
        placedLetters.push(droppedLetter);

        // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø´ÙƒÙ„ Ù…Ø´ÙƒÙ„
        const shapedLetters = currentWord.shaped.slice(0, placedLetters.length);

        dropAreaEl.innerHTML = ''; // ØªÙØ±ÙŠØº Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„
        shapedLetters.forEach(letter => {
          const span = document.createElement('span');
          span.textContent = letter;

          span.style.margin = '0 5px'; // Ù…Ø³Ø§ÙØ© Ø¨Ø³ÙŠØ·Ø© Ø¨ÙŠÙ† Ø§Ù„Ø­Ø±ÙˆÙ
          dropAreaEl.appendChild(span);
        });

        // ØªÙˆÙ‡Ø¬ Ø£ØµÙØ± Ù…Ø¤Ù‚Øª Ø¹Ù†Ø¯ ÙƒÙ„ Ø­Ø±Ù
        dropAreaEl.classList.add('correct-letter');
        setTimeout(() => dropAreaEl.classList.remove('correct-letter'), 500);

        playSoundSafe('sounds/correct.mp3');

        if (placedLetters.length === currentWord.letters.length) {
          playSoundSafe(`sounds/word${currentWordIndex + 1}.mp3`);

          // ØªÙˆÙ‡Ø¬ Ø£Ø®Ø¶Ø± Ù…Ø±ØªÙŠÙ† Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„ÙƒÙ„Ù…Ø©
          dropAreaEl.classList.add('glowing-box');
          correctAnswers++;                  // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©
          updateSidebarStarsByProgress();    // â† **Ù‡Ù†Ø§** Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ…

          setTimeout(() => {
            dropAreaEl.classList.remove('glowing-box');
            setupNewWord();
          }, 1800);
        }

      } else {
        playSoundSafe('sounds/wrong.mp3');
      }
    }


    // âœ… Ø¯Ø§Ù„Ø© Ù…ÙˆØ­Ø¯Ø© Ù„ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ù†Ø¬ÙˆÙ…
    function animateStar(starEl) {
      starEl.style.transform = 'translateX(15px) scale(1.25)'; // Ø­Ø±ÙƒØ© Ø§Ù„Ù†Ø¬Ù…Ø©
      setTimeout(() => {
        starEl.style.transform = ''; // Ø¥Ø±Ø¬Ø§Ø¹Ù‡Ø§ Ù„Ù…ÙƒØ§Ù†Ù‡Ø§
      }, 250);
    }


    /* ===== ØªØ­ÙˆÙŠÙ„ Ù†Ø¬ÙˆÙ… Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø¥Ù„Ù‰ Ø­Ù…Ø±Ø§Ø¡ Ø·Ø¨Ù‚Ù‹Ø§ Ù„Ù„ØªÙ‚Ø¯Ù…: 3 / 6 / 9 ===== */
    function updateSidebarStarsByProgress() {
      // Ø¹ØªØ¨Ø§Øª Ø§Ù„ØªØºÙŠÙŠØ±
      const thresholds = [3, 6, 9];

      thresholds.forEach((t, idx) => {
        if (correctAnswers >= t && starElems[idx] && !starElems[idx].dataset.activated) {
          starElems[idx].src = highlightStarSrc;
          starElems[idx].dataset.activated = '1';

          animateStar(starElems[idx]);  // âœ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
        }
      });
    }



    function resetActivity() {
      correctAnswers = 0;
      starElems.forEach((s, i) => {
        s.src = initialStarSrc[i] || 'images/star1.png';
        delete s.dataset.activated;
        s.style.transform = '';
      });
      setupNewWord();
    }

    document.addEventListener('contextmenu', e => e.preventDefault());

    const instructionsIcon = document.querySelector('.instructions-icon');
    instructionsIcon.addEventListener('click', () => {
      const audio = new Audio('sounds/sd3_sound.mp3');
      audio.play().catch(e => { });
    });

    
let timerInterval;
let counter = 0;
const timerDisplay = document.getElementById('timer');
const playBtn = document.getElementById('playBtn');
const stopBtn = document.getElementById('stopBtn');

playBtn.addEventListener('click', () => {
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    counter++;
    timerDisplay.textContent = counter;
  }, 1000);
});

stopBtn.addEventListener('click', () => {
  clearInterval(timerInterval);
});


  </script>
</body>

</html>